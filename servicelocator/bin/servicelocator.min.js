function ServiceLocator(){function a(){i&&console.log(arguments)}function b(a){var b,c,d=Array.prototype.slice.call(arguments,1);for(a.__mixins=[],c=0;c<d.length;++c)for(b in d[c])"undefined"==typeof a[b]&&(a[b]=d[c][b],a.__mixins.push(b))}function c(a,b,c){function d(a){var c,d;if(!a)return this;for(this.__mixins=[],c=0;c<a.length;++c)for(d in a[c])this[d]=b[c][d],this.__mixins.push(d)}var e;return d.prototype=a.prototype,a.prototype=new d(b),e=new a(c),a.prototype=d.prototype,e}function d(a,b){var c;if(a&&!(b.recursion>1e3))if(b.recursion+=1,a.hasOwnProperty("__mixins")){for(c=0;c<b.length;c++)delete a[b[c]];delete a.__mixins}else d(Object.getPrototypeOf(a),b)}function e(a){return a.__mixins.recursion=0,d(a,a.__mixins),a}function f(b){return a("create: "+b),h[b].instance=c(h[b].creator,[{radID:b},g])}var g,h={},i=!1;return{printLog:function(a){return i=a,this},setMixin:function(a){return g=a,this},register:function(c,d,e){function f(c){void 0===h[c]?"function"!=typeof d||e!==!0&&void 0!==e?(b(d,{radID:c},g),h[c]={instance:d}):h[c]={creator:d}:a("You try register already registered module:"+c+"!")}if("[object Array]"===Object.prototype.toString.call(c))for(var i=c.length-1;i>-1;i--)f(c[i]);else f(c);return this},regiaterAll:function(a){var b,c,d,e;for(b=0;b<a.length;++b)c=a[b],d=c.radID||c.ID||c.id,e=c.service||c.obj||c.object||c.creator,this.register(d,e,c.instantiate);return this},get:function(b){return void 0===h[b]?(a("Error - "+b+" is unregister!"),null):h[b].instance||f(b)},instantiateAll:function(){var a,b=[];for(a in h)h.hasOwnProperty(a)&&h[a].creator&&!h[a].instance&&b.push(f(a));return b},getAllInstantiate:function(a){var b,c,d=[];for(b in h)c=a?!!h[b].creator:!0,h.hasOwnProperty(b)&&h[b].instance&&h[b].creator&&d.push(b);return d},unregister:function(a){function b(a){var b,c;return b=h[a],b&&b.instance&&(c=b.instance,e(c)),delete h[a],c}var c,d;if("[object Array]"===Object.prototype.toString.call(a))for(c=[],d=a.length-1;d>-1;d--)c.push(b(a[d]));else c=b(a);return c},unregisterAll:function(){var a,b,c=[];for(a in h)h.hasOwnProperty(a)&&(b=this.unregister(a),b&&c.push(b));return c}}}