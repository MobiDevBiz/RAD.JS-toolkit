function Animator(a){var b=a&&a.easing?a.easing:null,c=a&&a.boundsEasing?a.boundsEasing:null;this.isTweaking=!1,this.isAnimating=!1,this._easing="function"==typeof b?b:this[b],this._bounds=a&&a.bounds?!0:!1,this._boundsEasing="function"==typeof c?c:this[c],this._keepAbsoluteMetrics=a&&a.keepAbsoluteMetrics?!0:!1,this.checkBounds=this._bounds?function(a){return this._lastPosition=this._lastPosition||a,a<this.minPosition&&(a=this._lastPosition+(a-this._lastPosition)/3),a>this.maxPosition&&(a=this._lastPosition+(a-this._lastPosition)/3),this._lastPosition=a,a}:function(a){return a<this.minPosition&&(a=this.minPosition),a>this.maxPosition&&(a=this.maxPosition),a}}window.performance=window.performance||{},window.performance.now=function(){return performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()}}(),function(){var a,b,c,d,e=0,f=["ms","moz","webkit","o"];for(a=0;a<f.length&&!window.requestAnimationFrame;a+=1)window.requestAnimationFrame=window[f[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[f[a]+"CancelAnimationFrame"]||window[f[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){return b=window.performance.now(),c=Math.max(0,16-(b-e)),d=window.setTimeout(function(){a(b+c)},c),e=b+c,d}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),Animator.prototype=function(){function a(){var c=document.createElement("div");c.style.position="absolute",c.style.height="1in",c.style.width="1in",c.style.left="-100%",c.style.top="-100%",document.body.appendChild(c),b.DPI=c.offsetHeight,document.body.removeChild(c),window.removeEventListener("load",a)}var b={};return b.linear=function(a){return a},b.easeInQuad=function(a){return a*a},b.easeOutQuad=function(a){return a*(2-a)},b.easeOutSin=function(a){return Math.sin(a*Math.PI/2)},b.easeInOutQuad=function(a){return.5>a?2*a*a:-1+(4-2*a)*a},b.easeInCubic=function(a){return a*a*a},b.easeOutCubic=function(a){return--a*a*a+1},b.easeInOutCubic=function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},b.easeInQuart=function(a){return a*a*a*a},b.easeOutQuart=function(a){return 1- --a*a*a*a},b.easeInOutQuart=function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},b.easeInQuint=function(a){return a*a*a*a*a},b.easeOutQuint=function(a){return 1+--a*a*a*a*a},b.easeInOutQuint=function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a},b.KeySpline=function(a,b,c,d){function e(a,b){return 1-3*b+3*a}function f(a,b){return 3*b-6*a}function g(a){return 3*a}function h(a,b,c){return((e(b,c)*a+f(b,c))*a+g(b))*a}function i(a,b,c){return 3*e(b,c)*a*a+2*f(b,c)*a+g(b)}function j(b){for(var d=b,e=0;4>e;++e){var f=i(d,a,c);if(0==f)return d;var g=h(d,a,c)-b;d-=g/f}return d}return function(e){return a==b&&c==d?e:h(j(e),b,d)}},b.animate=function(a,b,c,d,e){function f(e){if(h=(e-g)/c,i=h>1?1:h,(1>i||!g)&&l.isAnimating&&(l._animationID=window.requestAnimationFrame(f,null)),k)return g=e,void(k=!1);if(l._currentPosition=j(i)*(b-a)+a,i>=1&&(m=!0,l.isTweaking=!1,l.isAnimating=!1,l._currentPosition=Math.round(l._currentPosition)),l._bounds){var n=0;l._currentPosition<l.minPosition&&(n=l._currentPosition-l.minPosition),l._currentPosition>l.maxPosition&&(n=l._currentPosition-l.maxPosition),n&&(l.isTweaking||(Math.abs(n)>l.margin||!l.isAnimating)&&(l.stop(),l.isTweaking=!0,l.animate(l._currentPosition,l._currentPosition-n,Math.min(2*Math.abs(n),350),l._callback,l._boundsEasing||"easeOutQuad")))}else l._currentPosition=l.checkBounds(l._currentPosition);d(l._currentPosition,m)}var g,h,i,j,k=!0,l=this,m=!1;a!==b&&(j="function"==typeof e?e:"string"==typeof e?this[e]:this._easing,this.isAnimating=!0,this._callback=d,window.requestAnimationFrame(f,null))},b.FRICTION=25e-6,b.startFling=function(b,c,d){var e,f,g=c&&c/Math.abs(c),h=this.FRICTION;this.DPI||this._keepAbsoluteMetrics||a(),this._keepAbsoluteMetrics||(h=this.FRICTION*this.DPI),e=Math.abs(c)/h,f=g*c*c/h,this.animate(b,b+f,e,d)},b.tweakIfNeeded=function(a,b){var c=0;this.isAnimating||(a<this.minPosition&&(c=a-this.minPosition),a>this.maxPosition&&(c=a-this.maxPosition),c&&(this.isTweaking=!0,this.animate(a,a-c,Math.min(2*Math.abs(c),350),b,this._boundsEasing||"easeOutQuad")))},b.setBounds=function(a,b,c){this.minPosition=a,this.maxPosition=b,this.margin=c||0},b.isStopped=function(){return!this.isAnimating},b.stop=function(){this.isAnimating&&(window.cancelAnimationFrame(this._animationID),this.isAnimating=!1,"function"==typeof this._callback&&(this._currentPosition=Math.round(this._currentPosition),this._callback(this._currentPosition,!0)))},window.addEventListener("load",a,!1),b}();