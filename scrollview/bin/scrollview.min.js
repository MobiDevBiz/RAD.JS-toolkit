function ScrollView(a,b){function c(a){q.stop(),l=a[r]}function d(a){n.setPosition(n.scrollPosition-(l-a[r])),l=a[r]}function e(a){n.setPosition(n.scrollPosition-(l-a[r]),!0),q.tweakIfNeeded(n.scrollPosition,n.setPosition)}function f(){clearTimeout(n.resizeTimeout),n.resizeTimeout=setTimeout(n.reflow,150)}var g,h,i,j,k,l,m,n=this,o={vertical:"vertical",fling:"fling",move:"move",pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup"},p=b&&b.direction?b.direction:o.vertical,q=new Animator({easing:b&&b.easing?b.easing:"easeOutQuad",bounds:b?!!b.bounds:!1}),r=p===o.vertical?"screenY":"screenX",s=p===o.vertical?"offsetHeight":"offsetWidth",t=[];n._calculateMaxScroll=function(){n._MaxScroll=g[s]-n._ParentSize},n.scroll=function(a,b){q.animate(n.scrollPosition,n.scrollPosition+a,b,n.setPosition)},n.refresh=function(){q.stop(),n._calculateMaxScroll(),q.setBounds(Math.min(0,-n._MaxScroll),0,n._ParentSize/2.5),g[s]?q.tweakIfNeeded(n.scrollPosition,n.setPosition):n.setPosition(0)},n.reflow=function(){var a=n.container,b=a.offsetHeight,c=a.offsetWidth;0===b||b===k&&c===j||(n._ParentSize=a[s],k=b,j=c,n.refresh())},n.getMaxPosition=function(){return n._MaxScroll},n.destroy=function(){window.removeEventListener("resize",f),clearTimeout(n.resizeTimeout)},n.handleEvent=function(a){switch(a.type){case o.fling:q.inBounds(n.scrollPosition)&&m(a);break;case o.pointerdown:c(a);break;case o.pointermove:a.origin.preventDefault(),d(a);break;case o.pointerup:e(a)}a.release()},n.container=a,n.scrollPosition=0,m=function(a){return a?function(a){a.direction===o.vertical&&q.startFling(n.scrollPosition,a.speed,n.setPosition)}:function(a){a.direction!==o.vertical&&q.startFling(n.scrollPosition,a.speed,n.setPosition)}}(p===o.vertical),n.setPosition=function(a){return a?function(a,c,d){n.scrollPosition=c?a:q.checkBounds(a),t[1]=n.scrollPosition,g.style[h]=t.join(""),b.onScroll(n.scrollPosition,d||o.move)}:function(a,b){n.scrollPosition=b?a:q.checkBounds(a),t[1]=n.scrollPosition,g.style[h]=t.join("")}}(b&&"function"==typeof b.onScroll),p===o.vertical?(t[0]="translate3d(0, ",t[2]="px, 0) scale(1)"):(t[0]="translate3d(",t[2]="px, 0, 0) scale(1)"),i=addVendorPrefix("transition"),h=addVendorPrefix("transform");var u=["fixed","relative","absolute"],v=u.indexOf(window.getComputedStyle(a,null).position);return a.style.position=-1===v?"relative":u[v],a.style.overflow="hidden",g=a.firstElementChild,g.style[p===o.vertical?"width":"height"]="100%",g.style.margin=0,g.style.position="absolute",g.style[i]="transform 0ms",n.reflow(),window.addEventListener("resize",f,!1),n}